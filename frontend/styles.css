:root {
  --radius: 16px;
  --shadow: 0 10px 30px rgba(0,0,0,0.15);
  --border: 1px solid rgba(0,0,0,0.08);
  --bg: #ffffff;
  --primary: #0ea5e9;
}
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto; color: #0f172a; background: #f8fafc; }
.page { max-width: 900px; margin: 48px auto; padding: 0 16px; }
.toggle-btn { padding: 12px 16px; border-radius: 999px; border: var(--border); background: var(--bg); box-shadow: var(--shadow); font-weight: 600; cursor: pointer; }

.chat-widget { position: fixed; right: 16px; bottom: 16px; z-index: 9999; display: none; width: min(380px, 92vw); }
.chat-widget[aria-hidden="false"] { display: block; }
.chat-card { display: grid; grid-template-rows: auto 1fr auto; height: clamp(360px, 70vh, 640px); background: var(--bg); border: var(--border); border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden; }
.chat-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; border-bottom: var(--border); background: #e0f2fe; }
.chat-title { font-weight: 700; }
.icon-btn { border: none; background: transparent; font-size: 18px; cursor: pointer; }
.chat-log { padding: 12px; overflow-y: auto; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; }
.msg { display: flex; gap: 10px; margin: 10px 0; }
.msg .bubble { padding: 10px 12px; border-radius: 14px; max-width: 90%; line-height: 1.3; word-wrap: break-word; white-space: pre-wrap; }
.msg.user { justify-content: flex-end; }
.msg.user .bubble { background: #0ea5e9; color: white; border-bottom-right-radius: 4px; }
.msg.bot .bubble { background: #f1f5f9; border: var(--border); border-bottom-left-radius: 4px; }
.typing { font-style: italic; opacity: 0.7; }
.chat-form { display: flex; gap: 8px; padding: 10px; border-top: var(--border); background: #ffffff; }
#chatInput { flex: 1; resize: none; border-radius: 10px; padding: 10px 12px; border: var(--border); font: inherit; max-height: 28vh; }
.send-btn { padding: 10px 14px; border-radius: 10px; border: none; background: var(--primary); color: white; font-weight: 700; cursor: pointer; }

@media (max-width: 480px) {
  .chat-widget { right: 8px; left: 8px; width: auto; }
  .chat-card { height: clamp(420px, 70vh, 80vh); }
}
